<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> GitHub Pages+Hexo建立博客 · knightyui's blog</title><meta name="description" content="GitHub Pages+Hexo建立博客 - knightyui"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://blog.knightyui.com/atom.xml" title="knightyui's blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://www.weibo.com/knightyui" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/knightyui" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">GitHub Pages+Hexo建立博客</h1><div class="post-info">2017年10月27日</div><div class="post-content"><p>之前有用过WordPress直接建站，但是WordPress有两个不好的地方：<br>
1、WordPress是动态的，对于服务器的要求比较高，配置比较低的服务器运行时候会加载很慢。<br>
2、国内想用自己的域名建网站必须要备案，比较麻烦。</p>
<p>恰好听到同学说可以用Hexo和Github Pages来做静态的个人博客。相比WordPress，Hexo+Github Pages可以不用购买服务器，省了一笔钱。其次Hexo是静态的，加载速度很快，很适合个人博客的搭建。</p>
<a id="more"></a>
<h1 id="安装环境"><a class="markdownIt-Anchor" href="#安装环境"></a> 安装环境</h1>
<p>要想使用Hexo，首先要在你的电脑上面安装Node.js和Git工具<br>
安装完毕之后，在你想放置网站文件的地方建立一个文件夹。比如 D:/Hexo。进入到文件夹之后使用git工具</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install hexo-cli -g</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo init blog</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> blog</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo g <span class="comment"># 或者hexo generate</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo s <span class="comment"># 或者hexo server，可以在http://localhost:4000/ 查看</span></span></span><br></pre></td></tr></table></figure>
<p>这里提一下Hexo常用的几个命令：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">generate</span>(hexo g)       生成静态文件，会在当前目录下生成一个新的public文件夹</span><br><span class="line">hexo server(hexo s)         启动本地Web服务，用于博客的预览</span><br><span class="line">hexo deploy(hexo d)         部署博客到远端，比如GitHub</span><br><span class="line">hexo <span class="keyword">new</span> <span class="string">"postName"</span>         新建文章，路径在/source/<span class="number">_</span>posts</span><br><span class="line">hexo <span class="keyword">new</span> pages <span class="string">"pageName"</span>   新建页面，路径在/source</span><br></pre></td></tr></table></figure>
<p>安装完成之后，就要选择你需要使用的主题了。Hexo有很多主题可以选择，我这里使用的是Next主题。在GitHub上面搜索到项目之后会有很详细的使用说明，这里不再赘述。<br><br>
关于主题的个性化定制，一般主题会有很多地方可以个性化更改，可以根据官方文档自行更改，或者使用搜索引擎来获取个性化定制的细节，每个主题都不相同。<br><br>
需要注意的是，更新主题的时候如果是修改了css文件，需要先清除之前生成的缓存文件，不然有可能无法正常生效。</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo <span class="keyword">generate</span></span><br></pre></td></tr></table></figure>
<h1 id="github-pages设置"><a class="markdownIt-Anchor" href="#github-pages设置"></a> GitHub Pages设置</h1>
<h2 id="什么是github-pages"><a class="markdownIt-Anchor" href="#什么是github-pages"></a> 什么是GitHub Pages</h2>
<p><a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a>本来是用来介绍托管在Github上面的项目，不过由于空间免费稳定，被很多人拿来搭建个人博客。<br><br>
每个人只能有一个仓库来存放个人主页，而且仓库的名字必须是username/username.github.io，这是特殊的命名约定。可以通过 <a href="http://username.github.io" target="_blank" rel="noopener">http://username.github.io</a> 来直接访问你的个人主页。<br><br>
这里需要特别注意一下，个人网页的网站内容是在master分支下面的。</p>
<h2 id="配置和使用github-pages"><a class="markdownIt-Anchor" href="#配置和使用github-pages"></a> 配置和使用GitHub Pages</h2>
<p>我们如何让本地的项目与远程的Github建立联系呢？一般来说有两种方法。一种是通过GitHub的账号密码来进行操作，第二种是比较推荐，通过SSH keys来建立连接。</p>
<h3 id="检查ssh-keys的设置"><a class="markdownIt-Anchor" href="#检查ssh-keys的设置"></a> 检查SSH keys的设置</h3>
<p>首先需要检查电脑上现有的SSH key：<br>
<code>cd ~/.ssh 检查本机的ssh密钥</code><br>
如果提示：No such file or directory 说明你第一次使用git，按照下面的步骤创建新的SSH key</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"邮件地址"</span></span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa <span class="keyword">key</span> pair.</span><br><span class="line">Enter file <span class="keyword">in</span> which <span class="keyword">to</span> save the <span class="keyword">key</span> (/Users/your_user_directory/.ssh/id_rsa):&lt;回车就好&gt;</span><br></pre></td></tr></table></figure>
<p>然后系统会提示你输入密码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):<span class="xml"><span class="tag">&lt;<span class="name">输入加密串</span>&gt;</span></span></span><br><span class="line"><span class="xml">Enter same passphrase again:<span class="tag">&lt;<span class="name">再次输入</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="添加ssh-key到github"><a class="markdownIt-Anchor" href="#添加ssh-key到github"></a> 添加SSH key到Github</h3>
<p>1 在本机设置SSH key之后，需要添加到Github上，已完成SSH链接的设置。<br><br>
首先打开本地id_rsa.pub文件，(参考地址： C:\Users\yourname.ssh\id_rsa.pub)。文件内容为刚才生成的密钥，复制文件内容。<br>
2 登陆Github，点击右上角Settings-&gt;SSH and GPG keys 。新建SSH keys，内容为刚才复制的密钥内容。<br>
3 测试下面的命令，看是否成功，命令不要更改<br>
<code>$ ssh -T git@GitHub.com</code><br>
如果看到如下反馈</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity <span class="keyword">of</span> host <span class="comment">'GitHub.com (207.97.227.239)' can't be established.</span></span><br><span class="line">RSA <span class="keyword">key</span> fingerprint <span class="keyword">is</span> <span class="number">16</span>:<span class="number">27</span>:ac:a5:<span class="number">76</span>:<span class="number">28</span>:<span class="number">2</span>d:<span class="number">36</span>:<span class="number">63</span>:<span class="number">1</span>b:<span class="number">56</span>:<span class="number">4</span>d:eb:df:a6:<span class="number">48.</span></span><br><span class="line">Are you sure you want <span class="keyword">to</span> <span class="keyword">continue</span> connecting (yes/no)?</span><br></pre></td></tr></table></figure>
<p>不要紧张，输入 yes 就好，然后会看到成功的信息。<br>
有的时候会提示permission denied，此时一般是ssh公钥没有添加到本地SSH环境中，只需要使用ssh-add命令添加公钥即可。</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-<span class="keyword">add</span><span class="bash"> your_publickey</span></span><br></pre></td></tr></table></figure>
<h2 id="设置用户信息"><a class="markdownIt-Anchor" href="#设置用户信息"></a> 设置用户信息</h2>
<p>现在你已经可以通过 SSH 链接到 GitHub 了，还有一些个人信息需要完善的。<br>
Git 会根据用户的名字和邮箱来记录提交。GitHub 也是用这些信息来做权限的处理，输入下面的代码进行个人信息的设置，把名称和邮箱替换成你自己的，名字必须是你的真名，而不是GitHub的昵称。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user<span class="selector-class">.name</span> <span class="string">"username"</span><span class="comment">//用户名</span></span><br><span class="line">$ git config --global user<span class="selector-class">.email</span>  <span class="string">"username@gmail.com"</span><span class="comment">//填写自己的邮箱</span></span><br></pre></td></tr></table></figure>
<h1 id="域名"><a class="markdownIt-Anchor" href="#域名"></a> 域名</h1>
<p>上面已经完成了基本环境的设置，但是搭建个人博客，最重要的是要有一个自己的域名。这里域名推荐去Godaddy上面购买，选好自己喜欢的域名之后，建立解析即可。注意，域名解析要建立两个A的解析记录，分别为192.30.252.154和192.30.252.153。然后建立一个CNAME类型的解析，主机记录设置为www，记录值设置为你的Github Pages的网址，<a href="http://xn--yourname-jo1ot97l.github.io" target="_blank" rel="noopener">比如yourname.github.io</a>。<br><br>
做完上面的步骤，其实还是不能直接通过自己的域名去访问Github Pages的。还需要两个小步骤的设置：<br>
先进入Github，进入Github Pages的仓库，然后找到Settings-&gt;Options-&gt;GitHub Pages 找到Custom domain，把你设置的个人域名添加进去。<br><br>
然后在仓库的根目录添加一个CNAME文件，文件内容为你的域名<br><br>
完成上面的设置，已经可以成功通过自己的域名访问</p>
<h1 id="把博客部署到github"><a class="markdownIt-Anchor" href="#把博客部署到github"></a> 把博客部署到Github</h1>
<p>前面我们已经完成了所有的基础设置，并且已经可以在本地访问自己的博客，下面我们需要完成的就是把本地的博客部署到Github上面。Hexo提供了deploy插件让我们使用，方便部署到很多平台。如果部署到Github，需要先安装扩展<br>
<code>$ npm install hexo-deployer-git --save</code><br>
然后在配置文件_config.xml中做下面的修改：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">    <span class="attribute">type</span>: git</span><br><span class="line">    <span class="attribute">repo</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:yourname/yourname.github.io.git <span class="comment">//可以在项目仓库clone看到地址</span></span><br><span class="line">    <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure>
<p>然后再执行<br>
<code>hexo d</code><br>
就能完成部署，这时通过你的域名就能直接访问博客了。</p>
<h1 id="参考链接"><a class="markdownIt-Anchor" href="#参考链接"></a> 参考链接</h1>
<p><a href="https://linghucong.js.org/2016/04/15/2016-04-15-hexo-github-pages-blog/" target="_blank" rel="noopener">手把手教你使用Hexo + Github Pages搭建个人独立博客</a><br>
<a href="http://wowubuntu.com/markdown/index.html" target="_blank" rel="noopener">MarkDown语法说明(简体中文版)</a><br>
<a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html" target="_blank" rel="noopener">hexo的next主题个性化配置教程</a><br>
<a href="https://hyxxsfwy.github.io/2016/01/15/Hexo-Markdown-%E7%AE%80%E6%98%8E%E8%AF%AD%E6%B3%95%E6%89%8B%E5%86%8C/" target="_blank" rel="noopener">Hexo Markdown 简明语法手册</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/算法/cjn8l753500084dur64g126ol.html" class="prev">PREV</a></div><div class="copyright"><p>© 2016 - 2018 <a href="https://blog.knightyui.com">knightyui</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>